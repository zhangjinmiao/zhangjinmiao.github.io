<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>Spring Boot 最佳实践 &mdash; 山川尽美</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/pastie.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/share.js/dist/css/share.min.css"><link rel="canonical" href="http://zhangjinmiao.github.io/springboot/2019/07/30/SpringBoot%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html"><link rel="alternate" type="application/atom+xml" title="山川尽美" href="http://zhangjinmiao.github.io"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/favicon.ico"><meta property="og:title" content="Spring Boot 最佳实践"><meta name="keywords" content="springboot, 翻译"><meta name="og:keywords" content="springboot, 翻译"><meta name="description" content="使用自动配置"><meta name="og:description" content="使用自动配置"><meta property="og:url" content="http://zhangjinmiao.github.io/springboot/2019/07/30/SpringBoot%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html"><meta property="og:site_name" content="山川尽美"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2019-07-30"> <script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/js/jquery-ui.js"></script> <script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/js/main.js"></script> <script data-ad-client="ca-pub-7093222719567591" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="http://zhangjinmiao.github.io/" title="山川尽美"><span class="octicon octicon-mark-github"></span> 山川尽美</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="http://zhangjinmiao.github.io/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="http://zhangjinmiao.github.io/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="http://zhangjinmiao.github.io/archives/" class=" site-header-nav-item" target="" title="归档">归档</a> <a href="http://zhangjinmiao.github.io/spring-boot.html" class=" site-header-nav-item" target="_blank" title="Spring Boot">Spring Boot</a> <a href="http://zhangjinmiao.github.io/payment.html" class=" site-header-nav-item" target="_blank" title="支付">支付</a> <a href="http://zhangjinmiao.github.io/about.html" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="Spring Boot 最佳实"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">Spring Boot 最佳实践</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2019/07/30 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="http://zhangjinmiao.github.io/categories/#springboot" title="springboot">springboot</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 3772 字，约 11 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"> <img style="height:72px;width:72px" src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/images/qrcode.jpg" alt="山川尽美" /></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths"><article class="article-content markdown-body"><h2 id="使用自动配置">使用自动配置</h2><p>Spring Boot 的一个主要特性是它使用了自动配置。 这是 Spring Boot 中使代码简单工作的部分。 当在类路径上检测到特定的 jar 文件时，它将被激活。</p><p>使用它的最简单的方法是依赖于 Spring Boot Starters。 所以，如果你想和 Redis 互动，你可以从以下内容开始:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div><p>如果你想使用 MongoDB，你需要:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-mongodb<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div><p>等等… … 通过依赖这些启动器，您依赖于经过测试和验证的配置，这些配置将在一起工作得很好。 这有助于避免可怕的 <a href="https://dzone.com/articles/what-is-jar-hell">Jar Hell</a>。</p><p>可以使用以下注释属性从 Auto-configuration 中排除某些类:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@EnableAutoConfiguration</span><span class="err">（</span><span class="n">exclude</span> <span class="o">=</span> <span class="o">{</span><span class="nc">ClassNotToAutoconfigure</span><span class="o">.</span><span class="na">class</span><span class="o">}</span><span class="err">）</span>
</code></pre></div></div><p>但只有在绝对必要的情况下才应该这样做。</p><p>关于自动配置的官方文档可以在<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-auto-configuration.html">这里</a>找到。</p><h2 id="使用-spring-initializr-启动新的-spring-boot-项目">使用 Spring Initializr 启动新的 Spring Boot 项目</h2><p>Spring Initializr (Spring 初始化 https://start.Spring.io/ )为您提供了一个非常简单的方法来启动一个新的 Spring Boot 项目，并加载您可能需要的依赖项。</p><p>使用 Initializr 创建应用程序可以确保您正在选择经过测试和批准的依赖项，这些依赖项可以很好地与 Spring 自动配置一起工作。 你甚至可能发现一些你不知道存在的新的集成。</p><h2 id="考虑为常见的组织问题创建您自己的自动配置">考虑为常见的组织问题创建您自己的自动配置</h2><p>如果您在一个严重依赖 Spring Boot 的组织中工作，并且您有需要解决的共同问题，那么您可以<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html">创建自己的自动配置</a>。</p><p>这个任务比较复杂，所以你需要考虑什么时候投资是值得的。 单个自动配置比多个定制配置更容易维护，所有配置都略有不同。</p><p>如果您要将库发布到开放源码，那么提供一个 Spring Boot 配置将极大地方便成千上万用户的采用。</p><h2 id="正确地组织代码结构">正确地组织代码结构</h2><p>虽然允许您有很多自由，但是有一些基本的规则值得遵循，然后列出您的源代码。</p><ul><li>避免使用缺省包。 确保所有的东西(包括你的入口点)都包含在一个命名良好的包中。 这样，您将避免有关装配和组件扫描相关的意外情况</li><li>保持你的 Application.java 在顶级目录中</li><li>我建议将控制器和服务放在面向功能的模块中，但这是可选的。 一些非常好的开发人员建议把所有的控制器放在一起。 不论怎样，坚持一种风格！</li></ul><h2 id="让你的控制器保持干净和专注">让你的“控制器”保持干净和专注</h2><p><code class="language-plaintext highlighter-rouge">Controller</code> 应该是很简单的。 您可以在这里阅读 <a href="https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Controller">Controller pattern explained as part of GRASP</a>。 您希望控制器进行协调和委派，而不是执行实际的业务逻辑。 以下是一些关键的做法:</p><ul><li>控制器应该是无状态的！ 控制器是默认的单例模式，给它们任何状态都会导致严重的问题</li><li>控制器不应该执行业务逻辑，而是依赖于委托</li><li>控制器应该处理应用程序的 HTTP 层， 这不应该传递给服务</li><li>控制器应该围绕一个用例 / 业务能力来设计</li></ul><p>要深入了解这里的内容，可以开始讨论设计 REST APIs 的最佳实践。 不管你是否想使用 Spring Boot，这些都是值得学习的。</p><h2 id="围绕业务能力建立你的服务">围绕业务能力建立你的服务</h2><p><code class="language-plaintext highlighter-rouge">Services </code> 是 Spring Boot 的另一个核心概念。 我发现最好是围绕业务功能 / 域 / 用例（随便你怎么称呼它）构建服务。</p><p>使用诸如 <code class="language-plaintext highlighter-rouge">AccountService</code>、 <code class="language-plaintext highlighter-rouge">UserService</code>、 <code class="language-plaintext highlighter-rouge">PaymentService</code> 等服务的应用程序比使用 <code class="language-plaintext highlighter-rouge">DatabaseService</code>、 <code class="language-plaintext highlighter-rouge">ValidationService</code>、 <code class="language-plaintext highlighter-rouge">CalculationService</code> 等服务的应用程序更容易处理。</p><p>您可以决定使用Controler和Service之间的一对一映射， 那将是理想的情况。但这并不意味着<code class="language-plaintext highlighter-rouge">Service</code>之间不能互相利用！</p><h2 id="让你的数据库成为一个细节从核心逻辑中抽象出来">让你的数据库成为一个细节——从核心逻辑中抽象出来</h2><p>我曾经不确定如何最好地处理 Spring Boot 中的数据库交互。 在阅读了罗伯特 · 马丁(robertc.Martin)的<a href="https://www.e4developer.com/2018/07/14/discovering-clean-architecture-with-uncle-bob/">Clean Architecture</a> 之后，我更加清楚了。</p><p>您希望将数据库逻辑从服务中抽象出来。 理想情况下，您不希望服务知道它正在与哪个数据库通信。 使用一些抽象来封装对象的持久性。</p><blockquote><p>Robert c. Martin 充满激情地主张将您的数据库变成一个“细节”。 这意味着不将应用程序耦合到特定的数据库。 过去很少有人会转换数据库。 我注意到，随着 Spring Boot 和现代 microservices 的开发，事情变得更快了。</p></blockquote><h2 id="保持您的业务逻辑与-spring-boot-代码无关">保持您的业务逻辑与 Spring Boot 代码无关</h2><p>考虑到“ Clear Architecture”的经验教训，您还应该保护您的业务逻辑。 这是非常诱人的组合各种春天启动代码在那里… 不要这样做。 如果您能够抵制诱惑，您将保持业务逻辑的可重用性。</p><p>部分服务成为库是很常见的。 如果不从代码中删除大量 Spring 注释，则更容易创建。</p><h2 id="赞成构造函数注入">赞成构造函数注入</h2><p>这个来自 Phil Webb (现任 Spring Boot 的领导者,@phillip Webb)。</p><p>使您的业务逻辑免受Spring Boot代码侵入的一种方法是依赖构造函数注入。 <code class="language-plaintext highlighter-rouge">@autowired</code> 注释不仅在构造函数上是可选的，而且您还可以轻松地在没有 Spring 的情况下实例化 bean。</p><h2 id="熟悉并发模型">熟悉并发模型</h2><p>写过的最受欢迎的文章之一是 “<a href="https://www.e4developer.com/2018/03/30/introduction-to-concurrency-in-spring-boot/">Introduction to Concurrency in Spring Boot</a>“。 我认为这是因为这个领域经常被误解和忽视。 随之而来的就是各种问题。</p><p>在 Spring 中，Controller 和 Service 是默认是单例的。 如果不小心的话，可能会导致并发性问题。 您通常还要处理有限的线程池。 熟悉这些概念。</p><p>如果您正在使用 Spring Boot 应用程序的新 WebFlux 样式，我已经解释了它的工作原理，在 “<a href="https://www.e4developer.com/2018/04/28/springs-webflux-reactor-parallelism-and-backpressure/">Spring’s WebFlux / Reactor Parallelism and Backpressure</a>“。</p><h2 id="加强配置管理的外部化">加强配置管理的外部化</h2><p>这一点超越了 Spring Boot，尽管这是人们开始创建多个类似服务时常见的问题..。</p><p>您可以手动配置 Spring 应用程序。 如果你正在处理几十个 Spring Boot 应用程序，你需要成熟你的 Spring 组态管理。</p><p>我推荐两种主要方法:</p><ul><li>使用配置服务，比如 <a href="https://spring.io/projects/spring-cloud-config">Spring Cloud Config</a>。</li><li>将所有配置存储在环境变量中(可以基于 git 存储库提供)</li></ul><p>这两个选项（第二个选项多一些）都要求您在 DevOps 领域有所建树，但这在微服务领域是意料之中的。</p><h2 id="提供全局异常处理">提供全局异常处理</h2><p>您确实需要一种处理异常的一致方法。 Spring Boot 提供了两种主要的实现方式:</p><ul><li>你应该使用 <code class="language-plaintext highlighter-rouge">HandlerExceptionResolver</code>用于定义全局异常处理策略</li><li>你也可以在控制器上添加 <code class="language-plaintext highlighter-rouge">@exceptionhandler</code>，如果你想在某些情况下更加具体，这可能会很有用</li></ul><p>这与 Spring 非常相似，Baeldung 有一篇关于 <a href="https://www.baeldung.com/exception-handling-for-rest-with-spring">用 Spring 处理 REST 错误</a> 的详细文章，非常值得一读。</p><h2 id="使用日志框架">使用日志框架</h2><p>您可能已经意识到了这一点，但是您应该使用 Logger 记录日志，而不是使用 System.out.println ()手动完成日志记录。 这在没有任何配置的 Spring Boot 中很容易实现。 只需获得该类的日志记录器实例:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="nc">MyClass</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div></div><p>这很重要，因为它允许您根据需要设置不同的日志级别。</p><h2 id="测试你的代码">测试你的代码</h2><p>这不是特定于 Spring Boot 的，但是值得注意！ 测试你的代码。 如果您没有编写测试，那么您从一开始就在编写遗留代码。</p><p>如果其他人来到你的代码库，很快，改变任何东西都可能变得危险。 如果有多个服务相互依赖，那么风险就更大了。</p><p>因为有 Spring Boot 的最佳实践，所以您应该考虑在消费者驱动的契约中使用 <a href="https://spring.io/projects/spring-cloud-contract">Spring Cloud Contract</a>。 它将使您与其他服务的集成更容易使用。</p><h2 id="使用测试片使您的测试更容易和更集中">使用测试片使您的测试更容易和更集中</h2><p>使用 Spring Boot 测试代码可能很棘手——您需要初始化数据层、连接众多服务、模拟事物… … 实际上并不需要那么困难！ 答案是-使用测试片。</p><p>使用测试片，您可以根据需要只连接应用程序的部分。 这可以为您节省很多时间，并确保您的测试不与您没有使用的东西耦合。 有一篇名为 <a href="https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4">Custom test slice with Spring Boot 1.4</a> 的博客文章解释了这种技术。</p><h2 id="总结">总结</h2><p>多亏了 Spring Boot，编写基于 Spring 的微服务变得比以往任何时候都容易。 我希望通过这些最佳实践，您的实现过程不仅会很快，而且从长远来看会更加健壮和成功。 祝你好运！</p><blockquote><p>翻译自：</p><ul><li><a href="https://www.e4developer.com/2018/08/06/spring-boot-best-practices/#more-2109">Spring Boot – Best Practices</a></li></ul></blockquote><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="http://zhangjinmiao.github.io" target="_blank">Zhang jinmiao</a></li><li>本文链接：<a href="http://zhangjinmiao.github.io/springboot/2019/07/30/SpringBoot%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" target="_blank">http://zhangjinmiao.github.io/springboot/2019/07/30/SpringBoot%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"><div class="share-component" data-disabled='qq,facebook'></div></div><div class="comment"> <script src="https://beaudar.lipk.org/client.js" repo="zhangjinmiao/blog-comments" issue-term="title" label="gitment" theme="github-light" comment-order="desc" input-position="top" crossorigin="anonymous" async> </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@built/assets/search_data.json?v=1660720056', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2015 <span title="Zhang jinmiao">Zhang jinmiao</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/zhangjinmiao/zhangjinmiao.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="http://zhangjinmiao.github.io/links.html" title="链接" target="_blank">链接</a></li><li> <a href="http://zhangjinmiao.github.io/used-urls.html" title="网址" target="_blank">网址</a></li><li> <a href="http://zhangjinmiao.github.io/money.html" title="挣钱" target="_blank">挣钱</a></li><li> <a href="http://zhangjinmiao.github.io/todo.html" title="TODO" target="_blank">TODO</a></li><li> <a href="http://zhangjinmiao.github.io/open-source.html" title="Code" target="_blank">Code</a></li><li><a href="http://zhangjinmiao.github.io"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div><div class="site-footer" role="contentinfo" style="padding-top:0px;border-top:none;"><div style="text-align:center;"> <a target="_blank" style="color:#777" href="http://beian.miit.gov.cn/">晋ICP备19009201号-1</a></div><div style="text-align:center"> <img src="http://zhangjinmiao.github.io/assets/images/2019/备案图标.png"> <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802029536" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">京公网安备 11010802029536号</p></a></div><div class="mobile-hidden" style="text-align:center;" > <span id="busuanzi_container_site_pv">本站总访问量:<span id="busuanzi_value_site_pv"></span>次/</span> <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人/</span> <span id="busuanzi_container_page_pv">本页访问量<span id="busuanzi_value_page_pv"></span>次/</span> 统计始于2018-03-12 <span id="htmer_time"></span></div><script async src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/busuanzi/2.3/busuanzi.pure.mini.js"></script> <script language=JavaScript> function secondToDate(second) { if (!second) { return 0; } var time = new Array(0, 0, 0, 0, 0); if (second >= 365 * 24 * 3600) { time[0] = parseInt(second / (365 * 24 * 3600)); second %= 365 * 24 * 3600; } if (second >= 24 * 3600) { time[1] = parseInt(second / (24 * 3600)); second %= 24 * 3600; } if (second >= 3600) { time[2] = parseInt(second / 3600); second %= 3600; } if (second >= 60) { time[3] = parseInt(second / 60); second %= 60; } if (second > 0) { time[4] = second; } return time; } </script> <script type="text/javascript" language="javascript"> function setTime() { var create_time = Math.round(new Date(Date.UTC(2018, 3, 12, 0, 0, 0)).getTime() / 1000); var timestamp = Math.round((new Date().getTime() + 8 * 60 * 60 * 1000) / 1000); currentTime = secondToDate((timestamp - create_time)); currentTimeHtml = '默默运行了' + currentTime[0] + '年' + currentTime[1] + '天' + currentTime[2] + '时' + currentTime[3] + '分' + currentTime[4] + '秒'; document.getElementById("htmer_time").innerHTML = currentTimeHtml; } setInterval(setTime, 1000); </script></div></footer><script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/zhangjinmiao/zhangjinmiao.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
